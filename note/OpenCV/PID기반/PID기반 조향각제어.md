# 제어 개요

+ control 기법

  + Open Loop Control

  + Closed Loop Control => PID control

    ![control](https://www.pesquality.com/data/uploads/Blog_Page_Pics/Servo-Drive-Blog-Pic-Fig-1.jpg)

    

+ PID control : 센서 등을 통해 데이터를 수집하고 수집된 데이터를 기반으로 반복적인 피드백으로 제어하는 기법

  ![pid control](https://ctms.engin.umich.edu/CTMS/Content/Introduction/Control/PID/figures/feedback_block.png)

## 피드백 제어

+ process를 거쳐서 나온 output이 input에 영향을 미치는 Loop
+ 60Km/h가 목표일 때 스위치 On, off를 할때 결과적으로 상당시간 수렴을 하지못하고 진동하게 된다. 
  + 단순 ON/OFF 제어를 하게되면 출력값의 변화가 매우 크다. 그래서 시간이 지나도 목표값과의 오차는 줄어들지 않는다.

# PID 제어기

+ 비례 : P
+ 적분: I
+ 미분: D
+ 제어 대상의 목표값과 출력값과의 차이로 제어값을 계산

## 주요 용어와 개념

+ 오버슈트: 최종 정상 상태 값을 넘어서는 상승 오차
+ 피크시간: 가장 큰 overshot가 발생했을 때 시간
+ 상승시간: output의 0.1부터 0.9까지 이를 때 걸리는 시간
+ 정착시간: 최종 정상상태에 도달하는 시간

## P 제어

+ 피드백 제어신호가 오차에 비례하게 만드는 비례 제어기
+ 오차에 어떤 상수를 곱하면 된다.

Kp가 클때

+ 오차가 작아도 출력값이 크게 변함
+ 빠른 응답속도를 가짐
+ 오버슈트가 발생함

Kp가 작을때

+ 오차가 작을수록 출력값이 작게 변함
+ 오버슈트가 적게 발생한다. 
+ 느린 응답속도를 가진다.

P 제어기만 사용할 경우

+ 정상상태 오차가 발생함
  + 정상상태오차: 반응이 일정한 수준에 정착한 이후에 존재하는 오차
  + 일정시간이 지난 이후 출력값 - 목표값

## I 제어 (적분)

+ 적분을 이용하여 비례 제어에서 남아있는 오차를 제거하는 제어방법
+ 출력값이 목표값에 빠르게 도달하고 수렴하게 함

Ki가 클때

+ 누적 오차가 빠르게 증가함
+ 빠른 응답속도를 가짐
+ 오버슈트가 크게 발생함

Ki가 작을때

+ 누적 오차가 느리게 증가함
+ 오버슈트가 적게 발생한다. 
+ 느린 응답속도를 가진다.

I 제어기만 사용할 경우

+ 정상상태 오차를 줄일수 있음
+ 오차가 없는 상태에도 I 제어기에 남아있는 누적오차때문에 제어값이 계속 발생함
+ 그래서 PI, PID 제어기를 많이 사용

## D 제어 (적분)

+ 미분을 이용하여 진동을 줄이고 안정성을 향상하는 제어방법
+ 급격한 출력값의 변동이 발생할 때 급격하게 변하지 않도록 함
+ 오차가 상수일 경우 D제어기의 출력은 0이 되어 정상상태 오차를 줄일 수 없다.
+ 특정 신호가 급변하는 경우 미분 제어기의 출력이 급격하게 커져 시스템을 파괴하는 경우도 있음

Kd가 클때

+ 오버슈트가 작게 발생함
+ 신호가 급변하는 경우 시스템을 파괴할 수 있음

Kd가 작을때

+ 신호가 급변하더라도 적절한 피드백 가능
+ 오버슈트가 크게 발생

D 제어기만 사용할 경우

+ 시스템의 안정도를 증가시킬 수 있음
+ 미분이 불가능한 오차인 경우 적절한 제어가 되지않음